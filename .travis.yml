---
# yamllint disable rule:line-length

sudo: true

addons:
  apt:
    packages:
      - docker-ce
      - make

jobs:
  include:
    - name: Build
      language: go
      go: "1.10.x"
      go_import_path: "github.com/backube/SnapScheduler"
      install:
        - travis_retry make install-dep
        - travis_retry make install-gometalinter
        - travis_retry make install-operator-sdk
      script:
        - travis_retry make dep-vendor
        - travis_wait make lint
        - make image
